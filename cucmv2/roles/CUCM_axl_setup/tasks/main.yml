---

# tasks file for CUCM_axl_setup
# Output from the files/cucm_axl_setup.py file
# is captured in the rsp variable.
#
# Verifies that each AXL response was successful

- name: "Wait 10 minutes for AXL Api, processes to be stable..."
  pause:
     minutes: 10 

######################################################
- name: 'AXL Api Request -- {{ callmgr.file1.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file1.name }} {{ callmgr.file1.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify AXL User was created"
  debug:
    msg: "AXL User ID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
      errors: "{{ errors }} + ['{{ callmgr.file1.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

######################################################
- name: 'AXL Api Request -- {{ callmgr.file2.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file2.name }} {{ callmgr.file2.modify }} 
                            {{ callmgr.file2.url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify Service Cisco CallManager has been started..."
  debug:
    msg: "Service Cisco CallManager started..."
  when: rsp.stdout is search("Cisco CallManager-Started")

- set_fact: 
      errors: "{{ errors }} + ['Cisco CallManager failed to start...']"
  when: not rsp.stdout | search("Cisco CallManager-Started")

- name: "Verify Service Cisco Tftp has been started..."
  debug:
    msg: "Service Cisco Tftp started..."
  when: rsp.stdout is search("Cisco Tftp-Started")

- set_fact: 
      errors: "{{ errors }} + ['Cisco Tftp-Started failed to start...']"
  when: not rsp.stdout | search("Cisco Tftp-Started")

- name: "Verify Service Cisco CTL Provider has been started..."
  debug:
    msg: "Service Cisco CTL Provider started..."
  when: rsp.stdout is search("Cisco CTL Provider-Started")

- set_fact: 
      errors: "{{ errors }} + ['Cisco CTL Provider failed to start...']"
  when: not rsp.stdout | search("Cisco CTL Provider-Started")

- name: "Verify Service Certificate Authority Proxy Function has been started..."
  debug:
    msg: "Service Cisco Certificate Authority Proxy Function started..."
  when: rsp.stdout is search("Cisco Certificate Authority Proxy Function-Started")

- set_fact: 
      errors: "{{ errors }} + ['Cisco Certificate Authority Proxy Function-Started failed to start...']"
  when: not rsp.stdout | search("Cisco Certificate Authority Proxy Function-Started")

- name: "Verify Service Cisco DirSync-Started has been started..."
  debug:
    msg: "Service Cisco DirSync started..."
  when: rsp.stdout is search("Cisco DirSync-Started")

- set_fact:
      errors: "{{ errors }} + ['Cisco DirSync failed to start...']" 
  when: not rsp.stdout | search("Cisco DirSync-Started")

- name: "Verify Service Cisco Bulk Provisioning Service has been started..."
  debug:
    msg: "Service Cisco Bulk Provisioning Service started..."
  when: rsp.stdout is search("Cisco Bulk Provisioning Service-Started")

- set_fact: 
      errors: "{{ errors }} + ['Cisco Bulk Provisioning Service failed to start...']"    
  when: not rsp.stdout | search("Cisco Bulk Provisioning Service-Started")

- name: "Verify Service Cisco AXL Web Service has been started..."
  debug:
    msg: "Service Cisco AXL Web Service started..."
  when: rsp.stdout is search("Cisco AXL Web Service-Started")

- set_fact:
      errors: "{{ errors }} + ['Cisco AXL Web Service failed to start...']"
  when: not rsp.stdout | search("Cisco AXL Web Service-Started")

- name: "Verify Service Cisco SOAP - CDRonDemand Service has been started..."
  debug:
    msg: "Service Cisco SOAP - CDRonDemand Service started..."
  when: rsp.stdout is search("Cisco SOAP - CDRonDemand Service-Started")

- set_fact: 
      errors: "{{ errors }} + ['Cisco SOAP - CDRonDemand Service failed to start...']"
  when: not rsp.stdout | search("Cisco SOAP - CDRonDemand Service-Started")

- name: "Verify Service CAR Web Service has been started..."
  debug:
    msg: "Service Cisco CAR Web Service started..."
  when: rsp.stdout is search("Cisco CAR Web Service-Started")

- set_fact: 
      errors: "{{ errors }} + ['Cisco CAR Web Service failed to start...']"
  when: not rsp.stdout | search("Cisco CAR Web Service-Started")

######################################################
- name: 'AXL Api Request -- {{ callmgr.file4.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file4.name }} {{ callmgr.file4.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify Partition FlashOveride_PT was created..."
  debug:
    msg: "Partition FlashOverride_PT was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file4.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

######################################################
- name: 'AXL Api Request -- {{ callmgr.file37.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file37.name }} {{ callmgr.file37.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify Partition Flash_PT was created..."
  debug:
    msg: "Partition Flash_PT was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file37.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

######################################################
- name: 'AXL Api Request -- {{ callmgr.file38.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file38.name }} {{ callmgr.file38.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify Partition Immediate_PT was created..."
  debug:
    msg: "Partition Immediate_PT was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file38.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

######################################################
- name: 'AXL Api Request -- {{ callmgr.file39.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file39.name }} {{ callmgr.file39.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify Partition Priority_PT was created..."
  debug:
    msg: "Partition Priority_PT was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file39.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

######################################################
- name: 'AXL Api Request -- {{ callmgr.file40.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file40.name }} {{ callmgr.file40.modify }}
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify Partition Routine_PT was created..."
  debug:
    msg: "Partition Routine_PT was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file40.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

######################################################
- name: 'AXL Api Request -- {{ callmgr.file41.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file41.name }} {{ callmgr.file41.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify Partition MLPP_Restricted_PT was created..."
  debug:
    msg: "Partition MLPP_Restricted_PT was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file41.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

######################################################
- name: 'AXL Api Request -- {{ callmgr.file42.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file42.name }} {{ callmgr.file42.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify External_PT was created..."
  debug:
    msg: "Partition External_PT was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file42.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

######################################################
- name: 'AXL Api Request -- {{ callmgr.file43.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file43.name }} {{ callmgr.file43.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify Partition Internal_PT was created..."
  debug:
    msg: "Partition Internal_PT was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file43.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

###################################################
- name: 'AXL Api Request -- {{ callmgr.file5.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file5.name }} {{ callmgr.file5.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify FlashOvrCallSeaSpID was created..."
  debug:
    msg: "FlashOvrCallSeaSpID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file5.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

###################################################
- name: 'AXL Api Request -- {{ callmgr.file6.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file6.name }} {{ callmgr.file6.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify FlashCallSeaSpID was created..."
  debug:
    msg: "FlashCallSeaSpID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file6.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

###################################################
- name: 'AXL Api Request -- {{ callmgr.file7.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file7.name }} {{ callmgr.file7.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify ImmedCallSeaSpID was created..."
  debug:
    msg: "ImmedCallSeaSpID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file7.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

##################################################
- name: 'AXL Api Request -- {{ callmgr.file8.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file8.name }} {{ callmgr.file8.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify PrioCallSeaSpID was created..."
  debug:
    msg: "PrioCallSeaSpID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file8.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

##################################################
- name: 'AXL Api Request -- {{ callmgr.file9.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file9.name }} {{ callmgr.file9.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify RouCallSeaSpID was created..."
  debug:
    msg: "RouCallSeaSpID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file9.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

##################################################
- name: 'AXL Api Request -- {{ callmgr.file10.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file10.name }} {{ callmgr.file10.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify ExtCallSeaSpID was created..."
  debug:
    msg: "ExtCallSeaSpID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file10.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

##################################################
- name: 'AXL Api Request -- {{ callmgr.file11.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file11.name }} {{ callmgr.file11.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify transPattern FlashOverride_PT was created..."
  debug:
    msg: "transPattern FlashOverride_PT was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file11.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

##################################################
- name: 'AXL Api Request -- {{ callmgr.file12.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file12.name }} {{ callmgr.file12.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify transPattern Flash_PT was created..."
  debug:
    msg: "transPattern Flash_PT was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file12.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

##################################################
- name: 'AXL Api Request -- {{ callmgr.file13.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file13.name }} {{ callmgr.file13.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify transPattern Immediate_PT was created..."
  debug:
    msg: "transPattern Immediate_PT was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file13.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

##################################################
- name: 'AXL Api Request -- {{ callmgr.file14.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file14.name }} {{ callmgr.file14.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify transPattern Priority_PT was created..."
  debug:
    msg: "transPattern Priority_PT was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file14.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

##################################################
- name: 'AXL Api Request -- {{ callmgr.file15.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file15.name }} {{ callmgr.file15.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify transPattern Routine_PT was created..."
  debug:
    msg: "transPattern Routine_PT was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file15.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

##################################################
- name: 'AXL Api Request -- {{ callmgr.file16.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file16.name }} {{ callmgr.file16.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify MLPPRestID was created..."
  debug:
    msg: "MLPPRestID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file16.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

###################################################
- name: 'AXL Api Request -- {{ callmgr.file17.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file17.name }} {{ callmgr.file17.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify ComDeviceID was created..."
  debug:
    msg: "ComDeviceID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")


- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file17.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

###################################################
- name: 'AXL Api Request -- {{ callmgr.file18.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file18.name }} {{ callmgr.file18.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify ResourcePrioNamSpaceID was created..."
  debug:
    msg: "ResourcePrioNamSpaceID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file18.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

###################################################
- name: 'AXL Api Request -- {{ callmgr.file19.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file19.name }} {{ callmgr.file19.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify ResourcePrioNamespListID was created..."
  debug:
    msg: "ResourcePrioNamespListID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file19.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

###################################################
- name: 'AXL Api Request -- {{ callmgr.file20.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file20.name }} {{ callmgr.file20.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify SIPDnsProfileID was created..."
  debug:
    msg: "SIPDnsProfileID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file20.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

###################################################
- name: 'AXL Api Request -- {{ callmgr.file21.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file21.name }} {{ callmgr.file21.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify SIPTrkSecProfileIWGID was created..."
  debug:
    msg: "SIPTrkSecProfileIWGID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file21.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

###################################################
- name: 'AXL Api Request -- {{ callmgr.file22.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file22.name }} {{ callmgr.file22.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify MediaResGrpID was created..."
  debug:
    msg: "MediaResGrpID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file22.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

###################################################
- name: 'AXL Api Request -- {{ callmgr.file23.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file23.name }} {{ callmgr.file23.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify MediaResListID was created..."
  debug:
    msg: "MediaResListID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file23.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

###################################################
- name: 'AXL Api Request -- {{ callmgr.file24.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file24.name }} {{ callmgr.file24.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify SipTrkSecProfile8821_ID was created..."
  debug:
    msg: "SipTrkSecProfile8821_ID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file24.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

###################################################
- name: 'AXL Api Request -- {{ callmgr.file25.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file25.name }} {{ callmgr.file25.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify Update Security parameters enabled..."
  debug:
    msg: "CallCountCACEnableID was enabled..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file25.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

####################################################
- name: 'AXL Api Request -- {{ callmgr.file26.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file26.name }} {{ callmgr.file26.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify ClusterNameID was created..."
  debug:
    msg: "ClusterNameID was created..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file26.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

####################################################
- name: 'AXL Api Request -- {{ callmgr.file27.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file27.name }} {{ callmgr.file27.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify DupStreamEnableID was enabled..."
  debug:
    msg: "DupStreamEnableID was enabled..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file27.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

####################################################
- name: 'AXL Api Request -- {{ callmgr.file28.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file28.name }} {{ callmgr.file28.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify EnableIPV6ID was enabled..."
  debug:
    msg: "EnableIPV6ID was enabled..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file28.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

####################################################
- name: 'AXL Api Request -- {{ callmgr.file29.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file29.name }} {{ callmgr.file29.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify EnableLocMLPPID was enabled..."
  debug:
    msg: "EnableLocMLPPID was enabled..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file29.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

####################################################
- name: 'AXL Api Request -- {{ callmgr.file30.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file30.name }} {{ callmgr.file30.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify InterVideoRegdefID was enabled..."
  debug:
    msg: "InterVideoRegdefID was enabled..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file30.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

####################################################
- name: 'AXL Api Request -- {{ callmgr.file31.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file31.name }} {{ callmgr.file31.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify IntraVideoRegdefID was enabled..."
  debug:
    msg: "IntraVideoRegdefID was enabled..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file31.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

####################################################
- name: 'AXL Api Request -- {{ callmgr.file32.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file32.name }} {{ callmgr.file32.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify MaxCallDurTimeoutID was enabled..."
  debug:
    msg: "MaxCallDurTimeoutID was enabled..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file32.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

####################################################
- name: 'AXL Api Request -- {{ callmgr.file33.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file33.name }} {{ callmgr.file33.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify MLPPPreemptSetID was enabled..."
  debug:
    msg: "MLPPPreemptSetID was enabled..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file33.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

####################################################
- name: 'AXL Api Request -- {{ callmgr.file34.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file34.name }} {{ callmgr.file34.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify OrgDomainID was enabled..."
  debug:
    msg: "OrgDomainID was enabled..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file34.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

####################################################
- name: 'AXL Api Request -- {{ callmgr.file35.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file35.name }} {{ callmgr.file35.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify DeviceRingSetID was enabled..."
  debug:
    msg: "DeviceRingSetID was enabled..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact: 
     errors: "{{ errors }} + ['{{ callmgr.file35.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

####################################################
- name: 'AXL Api Request -- {{ callmgr.file36.name }}'
  script: cucm_axl_setup.py {{cucm_axl_usr}} {{cucm_axl_pw}} {{cucm_axl_ip}} 
                            {{ callmgr.file36.name }} {{ callmgr.file36.modify }} 
                            {{ url }} {{ module_py_path }}
  register: rsp
  ignore_errors: True

- name: "Verify SIPMaxIncomingMsgID was enabled..."
  debug:
    msg: "SIPMaxIncomingMsgID was enabled..."
  when: rsp.stdout is search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

- set_fact:
     errors: "{{ errors }} + ['{{ callmgr.file36.name }}']"
  when: not rsp.stdout | search("[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}")

###################################################
- debug: msg="---------------------------------- ANY AXL Web REQUEST/CLI cmd ERRORS WILL BE SHOWN BELOW -----------------------------------------"
- debug: var=errors

...
